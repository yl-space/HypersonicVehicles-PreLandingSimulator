<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hypersonic Vehicle Simulation</title>
    <link rel="stylesheet" href="client/styles/main.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">
                <h1>HYPERSONIC SIM</h1>
                <div class="loading-spinner"></div>
            </div>
            <div class="loading-progress">
                <div class="progress-bar">
                    <div id="loading-progress" class="progress-fill"></div>
                </div>
                <p id="loading-text">Initializing simulation...</p>
            </div>
        </div>
    </div>

    <!-- Error Screen -->
    <div id="error-screen" class="error-screen" style="display: none;">
        <div class="error-content">
            <h2>Simulation Error</h2>
            <p id="error-message">An error occurred while loading the simulation.</p>
            <button onclick="location.reload()">Reload</button>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app-container" class="app-container">
        <!-- 3D Scene Container -->
        <div id="scene-container" class="scene-container"></div>
        
        <!-- UI Overlay -->
        <div class="ui-overlay">
            <!-- Top HUD -->
            <div class="top-hud">
                <div class="mission-info">
                    <h3 id="mission-name">Mars Landing Simulation</h3>
                    <p id="mission-status">Ready</p>
                </div>
                <div class="time-display">
                    <div class="mission-time">
                        <span>Mission Time:</span>
                        <span id="mission-time">00:00:00</span>
                    </div>
                    <div class="simulation-time">
                        <span>Sim Time:</span>
                        <span id="simulation-time">00:00:00</span>
                    </div>
                </div>
            </div>

            <!-- Left Panel - Vehicle Controls -->
            <div class="left-panel">
                <div class="panel-header">
                    <h3>Vehicle Controls</h3>
                </div>
                <div class="control-section">
                    <h4>Thrust Control</h4>
                    <div class="thrust-controls">
                        <div class="thrust-slider">
                            <label>Main Engine: <span id="main-thrust-value">0%</span></label>
                            <input type="range" id="main-thrust" min="0" max="100" value="0">
                        </div>
                        <div class="thrust-slider">
                            <label>RCS Thrust: <span id="rcs-thrust-value">0%</span></label>
                            <input type="range" id="rcs-thrust" min="0" max="100" value="0">
                        </div>
                    </div>
                </div>
                <div class="control-section">
                    <h4>Attitude Control</h4>
                    <div class="attitude-controls">
                        <div class="control-group">
                            <label>Pitch</label>
                            <div class="joystick-container">
                                <div id="pitch-joystick" class="joystick"></div>
                            </div>
                        </div>
                        <div class="control-group">
                            <label>Yaw</label>
                            <div class="joystick-container">
                                <div id="yaw-joystick" class="joystick"></div>
                            </div>
                        </div>
                        <div class="control-group">
                            <label>Roll</label>
                            <div class="joystick-container">
                                <div id="roll-joystick" class="joystick"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="control-section">
                    <h4>Systems</h4>
                    <div class="system-controls">
                        <button id="deploy-parachute" class="system-btn">Deploy Parachute</button>
                        <button id="eject-heat-shield" class="system-btn">Eject Heat Shield</button>
                        <button id="deploy-legs" class="system-btn">Deploy Landing Legs</button>
                    </div>
                </div>
            </div>

            <!-- Right Panel - Telemetry -->
            <div class="right-panel">
                <div class="panel-header">
                    <h3>Telemetry</h3>
                </div>
                <div class="telemetry-section">
                    <h4>Position & Velocity</h4>
                    <div class="telemetry-grid">
                        <div class="telemetry-item">
                            <span class="label">Altitude:</span>
                            <span id="altitude" class="value">0 km</span>
                        </div>
                        <div class="telemetry-item">
                            <span class="label">Velocity:</span>
                            <span id="velocity" class="value">0 km/s</span>
                        </div>
                        <div class="telemetry-item">
                            <span class="label">Latitude:</span>
                            <span id="latitude" class="value">0°</span>
                        </div>
                        <div class="telemetry-item">
                            <span class="label">Longitude:</span>
                            <span id="longitude" class="value">0°</span>
                        </div>
                    </div>
                </div>
                <div class="telemetry-section">
                    <h4>Vehicle Status</h4>
                    <div class="telemetry-grid">
                        <div class="telemetry-item">
                            <span class="label">Temperature:</span>
                            <span id="temperature" class="value">300 K</span>
                        </div>
                        <div class="telemetry-item">
                            <span class="label">Fuel:</span>
                            <span id="fuel" class="value">100%</span>
                        </div>
                        <div class="telemetry-item">
                            <span class="label">Battery:</span>
                            <span id="battery" class="value">100%</span>
                        </div>
                        <div class="telemetry-item">
                            <span class="label">G-Force:</span>
                            <span id="g-force" class="value">0 G</span>
                        </div>
                    </div>
                </div>
                <div class="telemetry-section">
                    <h4>Trajectory</h4>
                    <div class="trajectory-info">
                        <div class="telemetry-item">
                            <span class="label">Time to Landing:</span>
                            <span id="time-to-landing" class="value">--:--</span>
                        </div>
                        <div class="telemetry-item">
                            <span class="label">Distance to Target:</span>
                            <span id="distance-to-target" class="value">0 km</span>
                        </div>
                        <div class="telemetry-item">
                            <span class="label">Entry Angle:</span>
                            <span id="entry-angle" class="value">0°</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bottom Panel - Timeline & Controls -->
            <div class="bottom-panel">
                <div class="timeline-container">
                    <div class="timeline-header">
                        <h4>Mission Timeline</h4>
                        <div class="timeline-controls">
                            <button id="play-pause" class="timeline-btn">⏸</button>
                            <button id="reset" class="timeline-btn">⏮</button>
                            <select id="speed-selector">
                                <option value="0.1">0.1x</option>
                                <option value="0.5">0.5x</option>
                                <option value="1" selected>1x</option>
                                <option value="2">2x</option>
                                <option value="5">5x</option>
                                <option value="10">10x</option>
                            </select>
                        </div>
                    </div>
                    <div class="timeline-track">
                        <div id="timeline-progress" class="timeline-progress"></div>
                        <div id="timeline-markers" class="timeline-markers"></div>
                    </div>
                    <div class="phase-indicators">
                        <div class="phase" data-phase="cruise">Cruise</div>
                        <div class="phase" data-phase="entry">Entry</div>
                        <div class="phase" data-phase="descent">Descent</div>
                        <div class="phase" data-phase="landing">Landing</div>
                    </div>
                </div>
            </div>

            <!-- Camera Controls -->
            <div class="camera-controls">
                <button id="camera-follow" class="camera-btn active">Follow</button>
                <button id="camera-orbit" class="camera-btn">Orbit</button>
                <button id="camera-top" class="camera-btn">Top</button>
                <button id="camera-side" class="camera-btn">Side</button>
            </div>

            <!-- Planet Selection -->
            <div class="planet-selector">
                <select id="planet-select">
                    <option value="mars">Mars</option>
                    <option value="venus">Venus</option>
                    <option value="titan">Titan</option>
                    <option value="earth">Earth</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="client/src/main.js"></script>
</body>
</html>
